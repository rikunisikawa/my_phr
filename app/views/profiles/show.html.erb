<div class="card shadow-sm">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h2 class="h5 mb-0">基本情報</h2>
    <%= link_to "編集", edit_profile_path, class: "btn btn-outline-secondary btn-sm" %>
  </div>
  <div class="card-body">
    <dl class="row">
      <dt class="col-sm-4">年齢</dt>
      <dd class="col-sm-8"><%= @profile.age || "-" %></dd>

      <dt class="col-sm-4">身長</dt>
      <dd class="col-sm-8"><%= @profile.height_cm ? "#{@profile.height_cm} cm" : "-" %></dd>

      <dt class="col-sm-4">体重</dt>
      <dd class="col-sm-8"><%= @profile.weight_kg ? "#{@profile.weight_kg} kg" : "-" %></dd>
    </dl>

    <h3 class="h6 mt-4">カスタム項目</h3>
    <% display_fields = @profile_custom_fields.select { |field| custom_field_value_present?(field, @profile.custom_fields) } %>
    <% if display_fields.any? %>
      <ul class="list-group list-group-flush">
        <% display_fields.each do |field| %>
          <li class="list-group-item px-0 d-flex justify-content-between">
            <span class="text-muted"><%= field.name %></span>
            <span><%= display_custom_field_value(field, @profile.custom_fields) %></span>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-muted">登録されたカスタム項目はありません。</p>
    <% end %>
  </div>
</div>
